<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title><%= data.name %> 的個人主頁</title>

  <!-- 主樣式 -->
  <link rel="stylesheet" href="/profile.css"/>
</head>

<body>

  <!-- 主卡片 -->
  <main class="profile-wrapper">
    <section class="profile-card">

      <!-- 頭部 -->
      <header class="profile-header">
        <img src="<%= data.avatar %>" alt="大頭貼" class="avatar" />

        <h1 class="name"><%= data.name %></h1>
        <p class="bio"><%= data.bio %></p>

        <div class="stats">
          <span>👥 好友數：<%= data.friends %></span>
        </div>
      </header>

      <hr />

      <!-- 發文表單 -->
      <section class="post-form">
        <form action="/add-post" method="POST">
          <input type="hidden" name="username" value="<%= id %>" />

          <textarea
            name="content"
            rows="3"
            placeholder="現在在想什麼？"
            required
          ></textarea>

          <button type="submit" class="btn-primary">
            📢 發佈貼文
          </button>
        </form>
      </section>

      <!-- 貼文列表 -->
      <section class="posts">
        <h3>📜 最近貼文</h3>

        <% if (data.posts.length === 0) { %>
          <p class="no-posts">這個人很懶，還沒有發文喔 😴</p>
        <% } else { %>
          <ul class="post-list">
            <% data.posts.forEach(function(post) { %>
              <li class="post-item">
                💬 <%= post %>
              </li>
            <% }); %>
          </ul>
        <% } %>
      </section>

      <!-- 操作區 -->
      <footer class="profile-actions">
        <a href="/edit/<%= id %>" class="edit-link">✏ 修改個人簡介</a>
        <a href="/search" class="back-link">← 回首頁</a>
      </footer>

    </section>
  </main>

</body>
</html>
